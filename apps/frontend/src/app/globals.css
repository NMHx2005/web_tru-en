@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

:root {
  --background: #ffffff;
  --foreground: #171717;
}

.dark {
  --background: #0a0a0a;
  --foreground: #ededed;
}

* {
  transition-property: color, background-color, border-color;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 300ms;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: var(--font-quicksand), 'Quicksand', sans-serif;
  transition: background-color 300ms ease, color 300ms ease;
}

/* Global Custom Scrollbar for entire website */
/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.3) transparent;
}

/* WebKit browsers (Chrome, Safari, Edge) */
*::-webkit-scrollbar {
  width: 14px;
  height: 14px;
}

*::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 0;
}

*::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.4);
  border-radius: 7px;
  border: 3px solid transparent;
  background-clip: padding-box;
  transition: background 0.2s ease;
  min-height: 20px;
}

*::-webkit-scrollbar-thumb:hover {
  background: rgba(148, 163, 184, 0.6);
  background-clip: padding-box;
}

*::-webkit-scrollbar-button {
  display: block;
  height: 14px;
  width: 14px;
  background: rgba(148, 163, 184, 0.15);
  border: none;
}

*::-webkit-scrollbar-button:single-button:vertical:decrement {
  border-width: 0 4px 4px 4px;
  border-color: transparent transparent rgba(148, 163, 184, 0.7) transparent;
  border-style: solid;
  background: rgba(148, 163, 184, 0.1);
}

*::-webkit-scrollbar-button:single-button:vertical:decrement:hover {
  border-color: transparent transparent rgba(148, 163, 184, 0.9) transparent;
  background: rgba(148, 163, 184, 0.2);
}

*::-webkit-scrollbar-button:single-button:vertical:increment {
  border-width: 4px 4px 0 4px;
  border-color: rgba(148, 163, 184, 0.7) transparent transparent transparent;
  border-style: solid;
  background: rgba(148, 163, 184, 0.1);
}

*::-webkit-scrollbar-button:single-button:vertical:increment:hover {
  border-color: rgba(148, 163, 184, 0.9) transparent transparent transparent;
  background: rgba(148, 163, 184, 0.2);
}

/* Dark mode scrollbar - Modern IDE style */
.dark * {
  scrollbar-color: rgba(148, 163, 184, 0.5) rgba(30, 41, 59, 0.4);
}

.dark *::-webkit-scrollbar-track {
  background: rgba(30, 41, 59, 0.4);
}

.dark *::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.5);
  border: 3px solid rgba(30, 41, 59, 0.4);
  background-clip: padding-box;
  border-radius: 7px;
}

.dark *::-webkit-scrollbar-thumb:hover {
  background: rgba(148, 163, 184, 0.7);
  background-clip: padding-box;
}

.dark *::-webkit-scrollbar-button {
  background: rgba(30, 41, 59, 0.4);
}

.dark *::-webkit-scrollbar-button:single-button:vertical:decrement {
  border-color: transparent transparent rgba(148, 163, 184, 0.7) transparent;
  background: rgba(30, 41, 59, 0.4);
}

.dark *::-webkit-scrollbar-button:single-button:vertical:decrement:hover {
  border-color: transparent transparent rgba(148, 163, 184, 0.9) transparent;
  background: rgba(30, 41, 59, 0.6);
}

.dark *::-webkit-scrollbar-button:single-button:vertical:increment {
  border-color: rgba(148, 163, 184, 0.7) transparent transparent transparent;
  background: rgba(30, 41, 59, 0.4);
}

.dark *::-webkit-scrollbar-button:single-button:vertical:increment:hover {
  border-color: rgba(148, 163, 184, 0.9) transparent transparent transparent;
  background: rgba(30, 41, 59, 0.6);
}

/* Scrollbar hide utility */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Smooth horizontal scroll */
.scroll-smooth {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
  scroll-snap-type: x mandatory;
}

/* Touch pan for mobile - allow both horizontal and vertical scrolling */
.touch-pan-x {
  touch-action: pan-x pan-y pinch-zoom;
}

/* Snap scroll */
.snap-x {
  scroll-snap-type: x mandatory;
}

.snap-start {
  scroll-snap-align: start;
}

.snap-mandatory {
  scroll-snap-type: x mandatory;
}

/* Line clamp utilities */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-word;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  word-break: break-word;
  max-width: 100%;
  width: 100%;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Animations */
  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  .animate-shimmer {
    animation: shimmer 2s infinite;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slide-in-from-bottom {
    from {
      transform: translateY(1rem);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes zoom-in {
    from {
      transform: scale(0);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  .animate-in {
    animation: fade-in 0.3s ease-out;
  }

  .fade-in {
    animation: fade-in 0.3s ease-out;
  }

  .slide-in-from-bottom-4 {
    animation: slide-in-from-bottom 0.5s ease-out;
  }

  @keyframes slide-in-from-top {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .slide-in-from-top-2 {
    animation: slide-in-from-top 0.2s ease-out;
  }

  .zoom-in {
    animation: zoom-in 0.2s ease-out;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out;
  }
}

/* Custom scrollbar for chapter list */
.chapter-list-scrollbar {
  /* Firefox */
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.4) transparent;
}

.chapter-list-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.chapter-list-scrollbar::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 10px;
}

.chapter-list-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.4);
  border-radius: 10px;
  transition: background 0.2s ease;
}

.chapter-list-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(148, 163, 184, 0.6);
}

/* Dark mode scrollbar */
.dark .chapter-list-scrollbar {
  scrollbar-color: rgba(100, 116, 139, 0.5) transparent;
}

.dark .chapter-list-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.5);
}

.dark .chapter-list-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.7);
}
